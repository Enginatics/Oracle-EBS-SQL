# MRP End Assembly Pegging - Case Study & Technical Analysis

## Executive Summary
The **MRP End Assembly Pegging** report provides a critical link between component supply and final product demand. It traces the requirement for a specific component all the way up the Bill of Materials (BOM) to the final "End Assembly" (finished good) that is driving that demand. This visibility is essential for prioritizing component allocation during shortages.

## Business Challenge
In a complex manufacturing environment, a single raw material (e.g., a specific screw or chip) might be used in dozens of different finished products. When that raw material is in short supply, planners need to know:
-   **Impact Analysis:** "If this shipment of screws is delayed, which customer orders for finished computers will be missed?"
-   **Prioritization:** "We only have enough chips for 50 units. Should we build Product A (high margin) or Product B (strategic customer)?"
-   **Expediting:** "Why is the system telling me to buy this part today? Is it for a rush order?"

## Solution
The **MRP End Assembly Pegging** report solves this by "pegging" (linking) supply to demand.

**Key Features:**
-   **Full Traceability:** Shows the path from the component, through sub-assemblies, to the final end item.
-   **Demand Context:** Identifies the specific Sales Order or Forecast that is driving the need.
-   **Schedule Alignment:** Compares the supply date (when the part is available) with the demand date (when the finished good is needed).

## Technical Architecture
The report relies on the MRP Pegging logic, which is calculated during the planning run.

### Key Tables and Views
-   **`MRP_FULL_PEGGING`**: The core table storing the links between supply and demand.
-   **`MRP_RECOMMENDATIONS`**: Stores the planned orders generated by the MRP engine.
-   **`MRP_GROSS_REQUIREMENTS`**: Stores the independent demand (Sales Orders, Forecasts).
-   **`WIP_DISCRETE_JOBS`**: Represents the work orders that consume the materials.

### Core Logic
1.  **Pegging Traversal:** The report starts with the component supply (e.g., a Purchase Order or Planned Order).
2.  **Upstream Navigation:** It recursively traverses the `MRP_FULL_PEGGING` table to find the parent demand.
3.  **End Item Identification:** It stops when it reaches an independent demand source (Sales Order or Forecast) at the top of the BOM structure.

## Business Impact
-   **Strategic Allocation:** Enables data-driven decisions on how to allocate scarce materials to the most important customer orders.
-   **Customer Service:** Allows customer service reps to proactively notify customers of potential delays based on component shortages.
-   **Inventory Optimization:** Helps identify "orphan" supply that is no longer pegged to any valid demand, allowing for cancellation or deferral.
