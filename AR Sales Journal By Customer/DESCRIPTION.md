# AR Sales Journal By Customer - Case Study & Technical Analysis

## Executive Summary

The **AR Sales Journal By Customer** is a fundamental accounting report that bridges the gap between operational sales activity and financial reporting. It provides a detailed listing of all sales transactions—Invoices, Credit Memos, and Debit Memos—grouped by customer. This report is indispensable for reconciling the Receivables subledger to the General Ledger (GL) and for analyzing revenue generation by client.

## Business Challenge

Accurate revenue recognition is the cornerstone of financial integrity.
*   **Reconciliation:** Accountants must verify that the total sales recorded in the AR module match the revenue figures in the General Ledger.
*   **Auditability:** Auditors require a clear trail showing which specific invoices make up the monthly revenue balance.
*   **Customer Analysis:** Sales managers need visibility into the total volume of business generated by specific customers within a given period.

## Solution

The **AR Sales Journal By Customer** report addresses these needs by:
*   **Customer-Centric View:** Grouping transactions by customer, allowing for easy validation of account activity.
*   **GL Integration:** Displaying the specific GL accounts (Revenue, Tax, Freight) associated with each transaction line.
*   **Status Verification:** Identifying whether transactions have been posted to the GL, helping to locate "stuck" or unposted items before period close.

## Technical Architecture

The report relies on the integration between Oracle Receivables and the Subledger Accounting (SLA) engine.

### Key Tables & Joins

*   **Transaction Header:** `RA_CUSTOMER_TRX_ALL` contains the invoice number, date, and currency.
*   **Transaction Lines:** `RA_CUSTOMER_TRX_LINES_ALL` holds the item details and line amounts.
*   **Accounting:** `AR_XLA_CTLGD_LINES_V` is a key view that links the transaction to its accounting distributions. It simplifies the complex join to the XLA (Subledger Accounting) tables, providing the final GL account code combinations.
*   **Customer:** `HZ_PARTIES` and `HZ_CUST_ACCOUNTS_ALL` provide the customer name and number.

### Logic

1.  **Selection:** Retrieves transactions based on the "GL Date" range to align with the accounting period.
2.  **Grouping:** Aggregates data by Customer, then by Transaction Type (Invoice, Credit Memo).
3.  **Filtering:** Applies filters for "Posting Status" to separate posted from unposted items.
4.  **Detailing:** If "Report By Line" is enabled, it lists every individual line item; otherwise, it may summarize at the transaction level.

## Parameters

*   **GL Date From/To:** The primary filter for month-end reconciliation.
*   **Posting Status:**
    *   *Posted:* Items successfully transferred to GL.
    *   *Unposted:* Items that have not yet reached the GL (critical for troubleshooting).
*   **GL Account Type:** Allows filtering for specific account types (e.g., 'Revenue' only) to focus the analysis.
*   **Customer Name:** Targets the report for a specific client audit.
*   **Company Segment:** Filters by the balancing segment (Company Code) for multi-entity environments.

## FAQ

**Q: Does this report show cash receipts?**
A: No. This is a *Sales* journal, focusing on the revenue generation side (Invoices, Credit Memos). Cash receipts are typically reported in the "AR Receipt Register" or "AR Cash Journal."

**Q: Why is the GL Account missing for some lines?**
A: If the transaction has not been accounted (AutoAccounting hasn't run or failed), the distribution lines might not exist or be complete. Check the "Posting Status."

**Q: What is the difference between "Transaction Date" and "GL Date"?**
A: The Transaction Date is when the sale occurred. The GL Date is when it is recognized in the books. They can differ (e.g., a Jan 31st invoice booked in Feb). This report typically filters by GL Date for accounting purposes.
